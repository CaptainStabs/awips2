<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Organization">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1">
<meta name="google-site-verification" content="k0e8DrbD40s54xHNBqwIsRrSSAkZoprwtEYDnNY06bU" />
<meta name="google-site-verification" content="pnjjbQFvjPwaWhEXY6nSyaS9iyghmH-M_yLHBveDX2M">
<meta itemprop="name" content="AWIPS II - Default LDM feeds">
<meta itemprop="description" content="Polymer is a library that uses the latest web technologies to let you create custom HTML elements. Build anything from a button to a complete application as an encapsulated, reusable element that works across desktop and mobile.">


<meta itemprop="image" content="https://www.polymer-project.org/images/instacod.png">


<title>
  
    Default LDM feeds -
   AWIPS II
</title>
<link rel="publisher" href="https://plus.google.com/107187849809354688692">
<link rel="shortcut icon" href="http://www.unidata.ucar.edu/favicon.ico">
<link href="//fonts.googleapis.com/css?family=RobotoDraft:300,400,500|Source+Code+Pro:400,500,700" rel="stylesheet">
<link href="/awips2/css/site2.css?20160718" rel="stylesheet">
<link href="/awips2/css/site2_sd_rules.css?20160718" rel="stylesheet" shim-shadowdom>



<script src="/awips2/components/webcomponentsjs/webcomponents.min.js?20160718"></script>
<!-- TODO: remove when https://github.com/Polymer/polymer/issues/391 is fixed -->
<link rel="import" href="/awips2/components/polymer/polymer.html">
<link rel="stylesheet" href="/awips2/css/elements/docs-menu.css">
<link rel="import" href="/awips2/elements/common_elements.vulcanized.html?20160718">


</head>
<body id="default-ldm-feeds">

<main id="content-container" class="polymer-content">
  <app-drawer id="sidebar" unresolved>
    <div layout vertical id="sidebar-content">
      <div id="logo-container" layout horizontal center>
        <a href="/awips2/" class="logo"><img src="/awips2/images/logos/awips2.png" alt="AWIPS II User Guide"></a>
      </div>

      <docs-menu unresolved flex
		 baseurl='/awips2'
                 coreElements='{"core-header-panel":"components/core-header-panel/core-header-panel.html","core-transition-pages":"components/core-animated-pages/transitions/core-transition-pages.html","core-animated-pages":"components/core-animated-pages/core-animated-pages.html","core-overlay":"components/core-overlay/core-overlay.html","core-toolbar":"components/core-toolbar/core-toolbar.html","core-image":"components/core-image/core-image.html","core-shared-lib":"components/core-shared-lib/core-shared-lib.html","core-a11y-keys":"components/core-a11y-keys/core-a11y-keys.html","core-menu-button":"components/core-menu-button/core-menu-button.html","core-icon":"components/core-icon/core-icon.html","core-selection":"components/core-selection/core-selection.html","core-style":"components/core-style/core-style.html","core-menu":"components/core-menu/core-menu.html","core-submenu":"components/core-menu/core-submenu.html","core-list":"components/core-list/core-list.html","core-dropdown-menu":"components/core-dropdown-menu/core-dropdown-menu.html","core-input":"components/core-input/core-input.html","core-iconset-svg":"components/core-iconset-svg/core-iconset-svg.html","core-field":"components/core-field/core-field.html","core-selector":"components/core-selector/core-selector.html","core-media-query":"components/core-media-query/core-media-query.html","core-animation-group":"components/core-animation/core-animation-group.html","core-animation":"components/core-animation/core-animation.html","core-animation-keyframe":"components/core-animation/core-animation.html","core-animation-prop":"components/core-animation/core-animation.html","core-dropdown":"components/core-dropdown/core-dropdown.html","core-dropdown-base":"components/core-dropdown/core-dropdown-base.html","core-pages":"components/core-pages/core-pages.html","core-meta":"components/core-meta/core-meta.html","core-splitter":"components/core-splitter/core-splitter.html","core-scroll-header-panel":"components/core-scroll-header-panel/core-scroll-header-panel.html","core-tooltip":"components/core-tooltip/core-tooltip.html","core-localstorage":"components/core-localstorage/core-localstorage.html","core-scroll-threshold":"components/core-scroll-threshold/core-scroll-threshold.html","core-drag-drop":"components/core-drag-drop/core-drag-drop.html","core-iconset":"components/core-iconset/core-iconset.html","core-label":"components/core-label/core-label.html","core-signals":"components/core-signals/core-signals.html","core-transition":"components/core-transition/core-transition.html","core-scaffold":"components/core-scaffold/core-scaffold.html","core-drawer-panel":"components/core-drawer-panel/core-drawer-panel.html","core-range":"components/core-range/core-range.html","core-collapse":"components/core-collapse/core-collapse.html","core-xhr":"components/core-ajax/core-xhr.html","core-ajax":"components/core-ajax/core-ajax.html","core-icon-button":"components/core-icon-button/core-icon-button.html","core-item":"components/core-item/core-item.html"}'
                 paperElements='{"paper-dropdown":"components/paper-dropdown/paper-dropdown.html","paper-dropdown-transition":"components/paper-dropdown/paper-dropdown-transition.html","paper-item":"components/paper-item/paper-item.html","paper-dropdown-menu":"components/paper-dropdown-menu/paper-dropdown-menu.html","paper-checkbox":"components/paper-checkbox/paper-checkbox.html","paper-button":"components/paper-button/paper-button.html","paper-button-base":"components/paper-button/paper-button-base.html","paper-menu-button":"components/paper-menu-button/paper-menu-button.html","paper-radio-group":"components/paper-radio-group/paper-radio-group.html","paper-toast":"components/paper-toast/paper-toast.html","paper-char-counter":"components/paper-input/paper-char-counter.html","paper-autogrow-textarea":"components/paper-input/paper-autogrow-textarea.html","paper-input":"components/paper-input/paper-input.html","paper-input-decorator":"components/paper-input/paper-input-decorator.html","paper-slider":"components/paper-slider/paper-slider.html","paper-toggle-button":"components/paper-toggle-button/paper-toggle-button.html","paper-fab":"components/paper-fab/paper-fab.html","paper-ripple":"components/paper-ripple/paper-ripple.html","paper-icon-button":"components/paper-icon-button/paper-icon-button.html","paper-tabs":"components/paper-tabs/paper-tabs.html","paper-tab":"components/paper-tabs/paper-tab.html","paper-shadow":"components/paper-shadow/paper-shadow.html","paper-radio-button":"components/paper-radio-button/paper-radio-button.html","paper-dialog":"components/paper-dialog/paper-dialog.html","paper-action-dialog":"components/paper-dialog/paper-action-dialog.html","paper-dialog-base":"components/paper-dialog/paper-dialog-base.html","paper-dialog-transition":"components/paper-dialog/paper-dialog-transition.html","paper-spinner":"components/paper-spinner/paper-spinner.html","paper-progress":"components/paper-progress/paper-progress.html"}'></docs-menu>
    </div>
  </app-drawer>

  <scroll-area sidebar unresolved class="scrolling">
    <site-banner type="guide" shortname="Docs" unresolved>
      
<app-bar theme="light" class="bar fixed">
</app-bar>

      <header class="shrink">
        <h1>
        
          EDEX Admin
        : Default LDM feeds
        </h1>
      </header>
    </site-banner>

    
    

    <article class="show-permalinks">

      <header class="onlyonmobile">
        <h1>
          
          EDEX Admin
          : Default LDM feeds
        </h1>
      </header>

      <p><code>/awips2/ldm/etc/ldmd.conf</code> is the main configuration file for the LDM server, where the EDEX server and default feed types are defined.</p>

<p>At the top of <code>ldmd.conf</code>, you can see the <strong>EXEC</strong> lines</p>

<pre><code>EXEC    "pqact -e"
EXEC    "edexBridge -s EDEX_HOSTNAME"
</code></pre>

<p>where <code>EDEX_HOSTNAME</code> is set to your local EDEX server with the command <code>edex setup</code>.</p>

<h1 id="default-feed-types">Default feed types</h1>

<p>Remember than LDM commands such as these require <strong>TAB SEPARATION</strong> between items.</p>

<pre><code>REQUEST NEXRAD3 ".*" idd.unidata.ucar.edu
REQUEST FNEXRAD|IDS|DDPLUS|UNIWISC ".*" idd.unidata.ucar.edu
REQUEST NGRID ".*" idd.unidata.ucar.edu
REQUEST NOTHER|HDS|NIMAGE ".*" idd.unidata.ucar.edu

REQUEST CONDUIT ".(awip3d|0p50).[0]$"   idd.unidata.ucar.edu
REQUEST CONDUIT ".(awip3d|0p50).[1]$"   idd.unidata.ucar.edu
REQUEST CONDUIT ".(awip3d|0p50).[2]$"   idd.unidata.ucar.edu
REQUEST CONDUIT ".(awip3d|0p50).[3]$"   idd.unidata.ucar.edu
REQUEST CONDUIT ".(awip3d|0p50).[4]$"   idd.unidata.ucar.edu
REQUEST CONDUIT ".(awip3d|0p50).[5]$"   idd.unidata.ucar.edu
REQUEST CONDUIT ".(awip3d|0p50).[6]$"   idd.unidata.ucar.edu
REQUEST CONDUIT ".(awip3d|0p50).[7]$"   idd.unidata.ucar.edu
REQUEST CONDUIT ".(awip3d|0p50).[8]$"   idd.unidata.ucar.edu
REQUEST CONDUIT ".(awip3d|0p50).[9]$"   idd.unidata.ucar.edu
</code></pre>

<h1 id="optional-feed-types">Optional feed types</h1>

<p>FNMOC and CMC models</p>

<pre><code>REQUEST FNMOC ".*" idd.unidata.ucar.edu
REQUEST CMC ".*" idd.unidata.ucar.edu
</code></pre>

<p>Lightning</p>

<pre><code>REQUEST        LIGHTNING       ".*"    striker2.atmos.albany.edu
REQUEST        LIGHTNING       ".*"    idd.unidata.ucar.edu
</code></pre>

<p>MRMS (with access granted from NSSL)</p>

<pre><code>REQUEST EXP ".*" 140.90.98.15
</code></pre>

<p>3.1	Ingest Filter Configuration
Ingest filtering is controlled through the pqact.conf file, which resides in the /usr/local/ldm/etc directory. The general syntax of an entry in the file is as follows:
feedtype TAB Regex Pattern 
TAB action TAB [arg]
Where TAB is an actual TAB. Lines can, and are, split between new lines at a TAB.
Table 3.1-1 is a list of feedtypes that can be used (reference http://www.unidata.ucar.edu/software/ldm/ldm-6.7.1/basics/feedtypes/index.html ).
Table 3.1-1. LDM Feedtypes
Primary Name
Alternate Names
Description
PPS
FT0
Public Products Service 
DDS
FT1, DOMESTIC
Domestic Data Service 
HDS
FT2, HRS
High resolution Data Service
IDS
FT3, INTNL
International Data Service
SPARE
FT4
Reserved for IDD use
UNIWISC
FT5, MCIDAS
Satellite imagery and derived products from the Unidata/Wisconsin Broadcast
PCWS
FT6, ACARS
ACARS data from commercial aircraft
FSL2
FT7, PROFILER
Wind profiler data
FSL3
FT8
Reserved for NOAA/GSD use
FSL4
FT9
Reserved for NOAA/GSD use
FSL5
FT10
Reserved for NOAA/GSD use
GPSSRC
FT11, NMC1, AFOS
SuomiNet GPS data gathering
CONDUIT
FT12, NMC2, NCEPH
NCEP high-resolution model output
FNEXRAD
FT13, NMC3
NEXRAD Level-III composites 
LIGHTNING
FT14,NLDN
Lightning data
WSI
FT15
NEXRAD Level-III (NIDS) radar products and composites from WSI Corporation
DIFAX
FT16
Unidata community-generated replacement for defunct DIFAX feed
FAA604
FT17, FAA, 604
FAA604 products for NWS use (private network), but available for IDD use
GPS
FT18
SuomiNet GPS data
FNMOC
FT19, SEISMIC, NOGAPS
NOGAPS and COAMP model output from FNMOC 
GEM
FT20, CMC
Canadian Meteorological Center GEM model output
NIMAGE
FT21, IMAGE
NOAAport satellite imagery
NTEXT
FT22, TEXT
NOAAport textual products (for future use)
NGRID
FT23, GRID
NOAAport high-resolution model output 
NPOINT
FT24, POINT, NBUFR, BUFR
NOAAport point products (for future use)
NGRAPH
FT25, GRAPH
NOAAport Redbook Graphics (for future use)
NOTHER
FT26, OTHER
NOAAport miscellaneous products (for future use)
NEXRAD3
FT27, NNEXRAD, NEXRAD
NEXRAD Level-III products
NEXRAD2
FT28, CRAFT, NEXRD2
NEXRAD Level-II radar data
NXRDSRC
FT29
NCDC NEXRAD Level-II data archiving 
EXP
FT30
For experiments, testing, etc.
ANY
FT0 | FT1 | FT2 | … | FT31
Predefined feed set name for any feed type
NONE
–
Predefined feed set name for no feed types (will not match anything)
DDPLUS
FT0 | FT1
Predefined feed set name for PPS or DDS
WMO
FT0 | FT1 | FT2 | FT3
Predefined feed set name for PPS, DDS, HDS, or IDS
UNIDATA
FT0 | FT1 | FT2 | FT3 | FT5
Predefined feed set name for PPS, DDS, HDS, IDS, or UNIWISC
FSL
FT6 | FT7 | FT8 | FT9 | FT10
Predefined feed set name for PCWS, FSL2, FSL3, FSL4, or FSL5
NMC
FT11 | FT12 | FT13
Predefined feed set name for AFOS, NMC2, or NMC3
NPORT
FT22 | FT23 | FT24 | FT25 | FT26
Predefined feed set name for NTEXT, NGRID, NPOINT, NGRAPH, or NOTHER</p>

<p>Regex Pattern  is a regular expression used in pattern matching the LDM stream for ingest. 
Action is the action to take on the product once it arrives. Table 3.1-2 describes the possibilities for action and can be found on LDM’s Web page here: http://www.unidata.ucar.edu/software/ldm/ldm-current/basics/pqact.conf.html
Table 3.1-2. LDM Action Options
Action
Description
NOOP
Don’t do anything with the product.
FILE
Write the data product to a file using the write() function.
STDIOFILE
Write the data product to a file using the fwrite() function.
DBFILE
Write the data product to a database.
EXEC
Execute a program.
PIPE
Write the product to a program’s standard input.</p>

<p>Arg is any optional arguments for the Action and is generally one of the following:
In general, the syntax for the ARG portion of the line in the pqact.conf file is as seen below:
–overwrite –close –log –edex    <tab>	  /store/path</tab></p>

<p>Where:</p>
<tab> indicates hitting the tab key on the keyboard
/store/path is the path the file should be written to disk.
-overwrite indicates overwrite the file (if exists)
-close indicates to close the file after fwrite() function
-log indicates log the product to the ldmd.log
-edex indicates the sending of data over edexBridge for processing


In order to determine the correct FEEDTYPE above, the following command can be run from a downstream LDM host. 
# ./notifyme –h $LDM_HOST –v –l- -p ‘$REGEX’
Where $REGEX is a regular expression that will match against the type of data which is of interest. Once a match is found, it is displayed on the screen as seen in Example 3.1-1.
Example 3.1-1
 Dec 21 15:52:21 notifyme[32196] INFO:     1522 20101221155220.618 IDS|DDPLUS 11247393  SOAK45 KWBC 211549
Dec 21 15:52:21 notifyme[32196] INFO:      408 20101221155220.618     HDS 11247394  SFUS41 KWBC 211545

The example shows the FEEDTYPE in bold type.
AWIPS I customizes only specific patterns based on the localized site. Tables 3.1-3 and 3.1-4  depict information on each, and where to find the corresponding information.
Table 3.1-3. Hydrology Patterns
AWIPS I Pattern
Information Location
AWIPS II LDM Pattern
^SRU[EMSW][1-9]..(Wxxx)
Wxxx from XXX-hydroSiteConfig.txt file in /awips/fxa/data/localization/XXX
IDS|DDPLUS      ^(SRU[EMSW][1-9].) (Wxxx)
SRUSRegCode.KWBC
RegCode from XXX-hydroSiteConfig.txt file in /awips/fxa/data/localization/XXX
IDS|DDPLUS      ^(SRUSRegCode) (KWBC)
FOUS...(Rxxx)
Rxxx from XXX-hydroSiteConfig.txt file in /awips/fxa/data/localization/XXX
IDS|DDPLUS      ^(FOUS..) (Rxxx)
FGUS[57]..(Rxxx)
Rxxx from XXX-hydroSiteConfig.txt file in /awips/fxa/data/localization/XXX
IDS|DDPLUS      ^(FGUS[567].) (Rxxx)
[AF][BS]US...(Wxxx)
Wxxx from XXX-hydroSiteConfig.txt file in /awips/fxa/data/localization/XXX
IDS|DDPLUS      ^([AF][BS]US..) (Wxxx)
AGUS5..(Rxxx)
Rxxx from XXX-hydroSiteConfig.txt file in /awips/fxa/data/localization/XXX
IDS|DDPLUS      ^(AGUS5.) (Rxxx)
AGUS4..(Wxxx)
Wxxx from XXX-hydroSiteConfig.txt file in /awips/fxa/data/localization/XXX
IDS|DDPLUS      ^(AGUS4.) (Wxxx)
[YZ]EI.98.(Rxxx)
Rxxx from XXX-hydroSiteConfig.txt file in /awips/fxa/data/localization/XXX
ANY     ^([YZ]EI.98) (Rxxx)
Note:  An example of the first row in the pqact.conf would look like this:
IDS|DDPLUS	^(SRU[EMSW][1-9].) (Wxxx) (..)(..)(..)
FILE	-overwrite -log -close -edex	/data_store/shef/\4/\1_\2_\3\4\5_(seq).txt
Remember that there are TABs between the different sections of the entry and that Wxxx would be substituted based on the rules above.

Table 3.1-4. Radar Patterns
AWIPS I Pattern
Information Reference
CODE 17 INCLUDE SDUS2??KZZZ
Substitute KZZZ for the reporting site for each radar listed in:
/awips/fxa/data/localizationDataSets/XXX/dialRadars.txt
Reporting sites can be found by issuing the following command:
grep –i xxxy /awips/fxa/data/wmoSiteInfo.txt
Where xxx is the radar ID without the preceding K, P or T.
The following file on DX1 also contains the information needed: 
/awips/fxa/data/localizationDataSets/XXX/acq_wmo_parms.sbn.radar
CODE 17 INCLUDE SDUS3??KZZZ
CODE 17 INCLUDE SDUS4??KZZZ
CODE 17 INCLUDE SDUS5??KZZZ
CODE 17 INCLUDE SDUS7??KZZZ
CODE 17 INCLUDE SDUS8??KZZZ
CODE 17 INCLUDE NXUS6??KZZZ
AWIPS II has only one pattern in the pqact.conf file, which lists all KXXX:
NNEXRAD ^(SDUS[234578].|NXUS6.) (K|P|T)(XXX|XXX|XXX|XXX|XXX)
Change the XXX to match each of the reporting sites for the radars listed in dialRadars.txt file. An example of a full NNEXRAD localized line for site LWX follows. Please note there are only two lines, so word wrap applies (see Appendix A for more detailed information on LDM acquisition patterns):
NNEXRAD    ^(SDUS[234578].|NXUS6.) (K|P|T)(LWX|BGM|CHS|RLX|ILN|CLE|AKQ|JKL|CTP|MHX|MRX|OKX|PHI) (..)(..)(..) /p(...)(...)
      FILE    -overwrite –close –log –edex       /data_store/radar/\2\8/\7/\5\6_\2\8_\7_(seq).rad

Additional patterns can also be found in the acqPatternsAddOn.txt file, which can reside in /awips/fxa/data/localization/XXX or /data/fxa/customFiles. These patterns should also be added to the pqact.conf.xxx file in the proper syntax (where xxx is your site ID). 
Delivered with the AWIPS II LDM rpm is a baselined pqact.conf.template file which should be used as a basis for the active pqact.conf file. It should not be edited; rather, it should be copied into the active pqact.conf file. From there, custom patterns can be concatenated onto the active file.
Note: ADAM platform’s active file is adam-pqact.conf
To manually edit or add a new filter rule, follow these steps. Utilize Appendix A, LDM Ingest Checklist, as a tool to help ensure all the correct information is known before proceeding:
Log into the downstream LDM client host (normally PX2) as user root:
# ssh root@$LDM_DOWNSTREAM
Change directories to the pqact.conf location on the server:
# cd /usr/local/ldm/etc
Edit the pqact.conf using a text editor (shown here is vi):
# vi pqact.conf.xxx
Once you are finished making changes, save the file and exit the editor:
# :wq!
Check to ensure that the edited file still has the proper syntax using the ldmadmin  command:
# su ldm –lc “ldmadmin pqactcheck –f /usr/local/ldm/etc/pqact.conf.xxx”
Expect the phrase “syntactically correct” for each file you have configured in ldmadmin-pl.conf
Concatenate this file with the pqact.conf.template file to create the active pqact.conf file:
# cat pqact.conf.template pqact.conf.xxx &gt; pqact.conf
Ensure the proper ownership and permissions:
# chown ldm:fxalpha /usr/local/ldm/etc/pqact.conf
Signal the LDM server to re-read the configuration files:
# su ldm –lc “ldmadmin pqactHUP”

</tab>

    </article>

    <footer>
  <div>
    <div class="links">
      <a href="https://www.facebook.com/unidata" title="Unidata on Facebook" tabindex="-1"><paper-button><core-icon icon="social:post-facebook"></core-icon>Facebook</paper-button></a>
      <a href="https://twitter.com/intent/follow?screen_name=unidata" data-twitter-follow title="Follow @Unidata on Twitter" tabindex="-1"><paper-button><core-icon icon="social:post-twitter"></core-icon>Twitter</paper-button></a>
      <a href="https://github.com/Unidata/awips2"><paper-button class="github" tabindex="-1"><core-icon icon="social:post-github"></core-icon>GitHub</paper-button></a>
      <a href="https://github.com/Unidata/awips2/issues/new" tabindex="-1"><paper-button><core-icon icon="bug-report"></core-icon>File a bug</paper-button></a>
    </div>

  </div>
</footer>





<script src="/awips2/js/prettify/prettify.js"></script>

<!-- <script src="/awips2/js/bower_components/smoothscroll/smoothscroll.js"></script> -->
<script src="/awips2/js/app.js?20160718"></script>


  </scroll-area>

</main>

</body>
</html>
